<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Auto Formatter</title>
	<meta name="description"
		content="An Automatic Formatter used to format text from a Google Doc or other similar writing application into a fully AO3 compatible format using the Disco Elsyium Fury of a Shattered Mirror workskin">
	<meta name="robot" content="index, nofollow">
	<meta name="author" content="TMZSeif">
	<link rel="stylesheet" href="style.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
	<link rel="stylesheet" href="format.css">
</head>

<body class="d-flex flex-column">
	<div class="container-fluid px-0 flex-grow-1 d-flex flex-column">
		<nav class="navbar navbar-expand-lg bg-light-subtle" data-bs-theme="dark">
			<div class="container-fluid flex-column">
				<h1 class="text-light mb-0 pb-0 text-center">AUTO-FORMATTER</h1>
				<p class="navbar-text mb-0 pt-1 text-center">This is a Disco Elysium Automatic Formatter which formats
					your
					writing into the Fury of a Shattered Mirror AO3 workskin</p>
			</div>
		</nav>
		<ul class="nav nav-tabs bg-body-tertiary nav-fill sticky-top" data-bs-theme="dark" id="myTab" role="tablist">
			<li class="nav-item" role="presentation">
				<button class="nav-link active" id="format-tab" data-bs-toggle="tab" data-bs-target="#format-tab-pane"
					type="button" role="tab" aria-controls="format-tab-pane" aria-selected="true">Formatter</button>
			</li>
			<li class="nav-item">
				<button class="nav-link" id="preview-tab" data-bs-toggle="tab" data-bs-target="#preview-tab-pane"
					type="button" role="tab" aria-controls="preview-tab-pane" aria-selected="false">Preview</button>
			</li>
			<li class="nav-item">
				<button class="nav-link" id="info-tab" data-bs-toggle="tab" data-bs-target="#info-tab-pane"
					type="button" role="tab" aria-controls="info-tab-pane" aria-selected="false">How to use</button>
			</li>
			<li class="nav-item">
				<button class="nav-link" id="custom-tab" data-bs-toggle="tab" data-bs-target="#custom-tab-pane"
					type="button" role="tab" aria-controls="custom-tab-pane" aria-selected="false">Custom
					Formatting</button>
			</li>
			<li class="nav-item">
				<button class="nav-link" id="bg-tab" data-bs-toggle="tab" data-bs-target="#bg-tab-pane" type="button"
					role="tab" aria-controls="bg-tab-pane" aria-selected="false">Custom Background</button>
			</li>
		</ul>
		<div class="d-flex flex-cloumn tab-content w-100 flex-grow-1" id="nav-tabContent">
			<div class="tab-pane fade show active flex-grow-1 w-100" id="format-tab-pane" role="tabpanel"
				aria-labelledby="format-tab-pane" tabindex="0">
				<div class="bg-dark-subtle h-100 d-flex flex-column" data-bs-theme="dark">
					<div class="container-fluid d-flex flex-grow-1">
						<div class="mb-3 me-3 d-flex flex-column flex-grow-1">
							<textarea class="form-control flex-grow-1 mt-3 format-input"
								placeholder="Enter unformatted text here..." id="formatInput"></textarea>
						</div>
						<div class="vr mb-3 bg-light"></div>
						<div class="mb-3 ms-3 d-flex flex-column flex-grow-1">
							<textarea readonly class="form-control flex-grow-1 mt-3 format-output"
								placeholder="Formatted text will be here..." id="formatOutput"></textarea>
						</div>
					</div>
					<a tabindex="0" type="button" id="copyBtn" class="btn mb-2 align-self-center btn-warning"
						data-bs-trigger="focus" data-bs-toggle="popover"
						data-bs-content="Formatted text has been copied." data-bs-placement="top">Copy Formatted
						Text</a>
				</div>
			</div>
			<div class="tab-pane fade flex-grow-1 w-100" id="preview-tab-pane" role="tabpanel"
				aria-labelledby="preview-tab-pane" tabindex="0">
				<div class="h-100 d-flex justify-content-center flex-cloumn bg-dark-subtle" data-bs-theme="dark">
					<div id="workskin">
						<div id="chapters">
							<div class="chapter">
								<div class="userstuff module" role="article">
									<div class="feld-overlay-start"></div>
									<div id="previewInsert" class="feld-body">

									</div>
									<div class="feld-overlay-end">
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="tab-pane fade flex-grow-1 w-100" id="info-tab-pane" role="tabpanel"
				aria-labelledby="info-tab-pane" tabindex="0">
				<div class="container-fluid bg-dark-subtle h-100" data-bs-theme="dark">
					<h1 class="text text-light text-center">Synopsis</h1>
					<p class="text text-light text-center">This formatter is based on the Fury of a Shattered Mirror
						workskin
						yet the inbuilt functionality extends only to the classic DE system. So any of the unique
						formatting in FoaSM that doesn not exist in DE will not be present out of the box. You'll
						have
						to extend that functionality yourself.</p>
					<p class="text text-light text-center">Now this formatter was originally intended to be a place
						where
						you
						can copy your already written text into it and immediately get your fully CSS and HTML
						formatted
						text back. But technically you <em>can</em> write directly in here if you so wish. Nothing
						stopping you either way.</p>
					<p class="text text-light text-center">Note: This formatter uses Markdown to detect unique styling
						such
						as italics or bolding. If you're writing on another application make sure to copy your text
						as
						Markdown before pasting it here. If you're new to Markdown there's only really 2 big things
						you
						need to know. *Any text between stars are italicised* and **Any text between 2 stars are
						bolded** and if you want to place stars without making something italic or bold preface the
						star
						with a backslash \*like so\*</p>
					<h1 class="text text-light text-center">Skill Dialogue</h1>
					<p class="text text-light text-center">When creating Skill dialogue, all Skill names must be fully
						capitalized.</p>
					<p class="text text-light text-center">This here is the guideline for how Skill dialogues should be
						formatted <code>SKILL NAME - Text here</code>. If the capitalized <code>SKILL NAME</code> is
						not
						the name of a pre-existing Skill then it is automatically the 'neutral' class and assumed
						to be a descriptor like <code>DESCRIPTION - Hey look at me!</code></p>
					<p class="text text-light text-center">If you wish to add a check there must be a space between the
						Skill
						and the check like so <code>SKILL [Medium:Success] - There's a space there.</code></p>
					<p class="text text-light text-center">Multi Skill dialogue work but you cannot add checks to them
						<code>SKILL AND OTHER SKILL - This will be picked up fine but checks won't work here.</code>
					</p>
					<p class="text text-light text-center">Multi line Skill dialogue will also work perfectly fine and
						functions as so.</p>
					<pre><code style="color: #e685b5;">
						SKILL - I have my line here.

						And I continue talking in another paragraph.
					</code></pre>
					<h1 class="text text-light text-center">Dialogue Trees</h1>
					<p class="text text-light text-center">Dialogue trees are created by making numbered lists like so.
					</p>
					<pre><code style="color: #e685b5;">
						1. Dialogue #1
						2. Dialogue #2
						3. Dialogue #3
					</code></pre>
					<p class="text text-light text-center">To indicate that a particular dialogue was chosen and
						completed,
						italicise the dialogue like so</p>
					<pre><code style="color: #e685b5;">
						1. *This dialogue has been chosen*
						2. This has not
						3. *This also has been chosen*
					</code></pre>
					<p class="text text-light text-center">To create a white check you must add a W to the end of the
						line.
						The W <em>must</em> be the last character of the line. To indicate a locked white check you
						also
						italicise the line. For money checks, you append an M to the end of the line, and italicise
						it
						if you wish to make it a locked money check. For red checks you append an R.</p>
					<pre><code style="color: #e685b5;">
						1. [Volition - Challenging 12] This is a white check. W
						2. *[Interfacing - Easy 9] This is a locked white check. W*
						3. [20$] This is a money check. M
						4. *[20000$] This is a locked money check. M*
						5. [Physical Instrument - Medium 11] This is a red check. R
					</code></pre>
					<p class="text text-light text-center">Note: You must leave a blank line before and after the list.
					</p>
					<h1 class="text text-light text-center">Check Results And Rolling</h1>
					<p class="text text-light text-center">There are certain occasions when you'll need a line to be
						both
						centered and italicised. Such as when making modifiers to checks or what have you. In order
						to
						do this simply wrap a line in italics and it'll center it for you like so</p>
					<pre><code style="color: #e685b5;">
						*+5 This is a modifier that will be centered and italicised*
						*-3 another one*
						*This text will also be centered and italicised*
						*Now playing: Music (Discorune reference)*
					</code></pre>
					<p class="text text-light text-center">Now for big active check results such as CHECK SUCCESS or
						HEALED
						MORALE. They will have to be placed on their own line and be fully capitalized. You'll also
						need
						to take care of the spelling, if you don't spell them correctly they won't be picked up by
						the
						formatter. The following are the full list of supported Check results that exist out of the
						box
					</p>
					<pre><code style="color: #e685b5;">
						*+5 This is a modifier that will be centered and italicised*
						*-3 another one*
						
						CHECK SUCCESS (Simply writing this will automatically convert the line into the correct formatting)
						CHECK FAILURE
						CRITICAL SUCCESS
						CRITICAL FAILURE
						DAMAGED MORALE
						MORALE CRITICAL
						HEALED MORALE
						DAMAGED HEALTH
						HEALTH CRITICAL
						HEALED HEALTH
						INTELLECT RAISED
						PHYSIQUE RAISED
						PSYCHE RAISED
						MOTORICS RAISED
						MONEY GAINED
						MONEY SPENT
					</code></pre>
					<p class="text text-light text-center">Warning: If you write a fully capitalized Keyword from the
						above
						following in a normal paragraph. That entire paragraph will be formatted into a check result
						for
						example</p>
					<p class="text text-light text-center"><code>
						INTERFACING - If I write CHECK SUCCESS. This entire line now will be formatted as a giant CHECK SUCCESS block and not a Skill dialogue.
					</code></p>
					<h1 class="text text-light text-center">Tasks And Other Similarly Formatted Keyword</h1>
					<p class="text text-light text-center">Tasks, Thoughts, Items and XP all have the same green
						formatting.
						And like the above Check Results, are formatted by detecting keywords such as New task: or
						Task
						updated:. The full list of keywords can be found here</p>
					<pre><code style="color: #e685b5;">
						New task: This task will be formatted in green as normal
						Task updated:
						Task complete:
						Item gained:
						Item lost:
						Thought gained:
						Breakthrough imminent:
					</code></pre>
					<p class="text text-light text-center">Note: The ":" <em>must</em> be present or it won't be
						formatted
						correctly</p>
					<p class="text text-light text-center">Warning: For reasons that will be apparent in their relevant
						sections. You must add END ITEM or END THOUGHT on a new line immediately after Thought
						Gained,
						Breakthrough Imminent or Item gained if you won't be creating a full Item description or
						Thought
						description.</p>
					<h1 class="text text-light text-center">Thought and Item Description</h1>
					<p class="text text-light text-center">After a Thought gained: is added. Any fully capitalized line
						will
						be formatted as the Thought's name and will be formatted to be center aligned and bolded.
						Any
						normal paragraph will be formatted to be just center aligned and will act as the Thought's
						description. After adding "Temporary research bonus:" or "Permanent research bonus:" every
						line
						after that will be formatted to be a Skill bonus, Skill names in this will be automatically
						formatted with the correct color and do not need to be fully capitalized, for non-Skill
						bonuses
						you will have to manually bold words yourself. Typing "Research time:" will automatically
						break
						out of Bonus formatting. After finishing a Thought description you <em>must</em> add END
						THOUGHT
						on a new line afterwards before continuing to write normally. Here's an example to help
						clear
						things up</p>
					<pre><code style="color: #e685b5;">
						Thought gained: Anti-Object Task Force

						ANTI-OBJECT TASK FORCE

						Take a look at your hands. See how bruised they are? See those little scars? This is Exhibit A. 
						The material world is holding you back. Containers, mailboxes, doors, chairs -- they are all your enemies. 
						Always have been. Atoms themselves are in on the conspiracy, forming shapes and structures that you hate. 
						You are energy stuck in a body. You are spirit trapped in matter. Break free! 
						Beat up that lamp post! Let it know just how much objects \*suck\*.

						Temporary research bonus:
						-2 Pain Threshold: Hurts!

						Research time: 2h 15m
						END THOUGHT


						Breakthrough imminent: Anti-Object Task Force

						ANTI-OBJECT TASK FORCE

						Behold: the Anti-Object Task Force has assembled. God's avenging angel, arrayed against the lower emanations of the Darkened One: 
						shoe racks, tape recorders, motor carriages. And doors. So many doors. You're not just pounding it all to pieces. 
						You're \*reforging\* the universe. From the anvil of the heavens to the worms below. Indulge in it. Be bold. 
						Have an \*impact\* on the shape of Creation. Out of the furnace of your rage -- a new reality! Also, you should trash your room \*again\*.

						Permanent research bonus:
						Attacking physical objects heals damage
						+1 Pain Threshold
						All FYS learning caps raised by 1
						END THOUGHT
					</code></pre>
					<p class="text text-light text-center">Pain Threshold and FYS will automatically be highlighted
						accordingly. The END THOUGHT Keyword <em>must</em> be added before you continue normal
						writing.
					</p>
					<p class="text text-light text-center">The same exact logic applies for Item descriptions except
						BONUS
						START needs to be prefaced before you write bonuses like so</p>
					<pre><code style="color: #e685b5;">
						Item gained: Ledger of Oblivion

						Ledger of Oblivion

						This is the ledger you found in the trash. It emits oblivion. 
						A thin veneer of la-la-la, what I don't know can not hurt me covers its pages. 
						You look at it and it makes you feel surprisingly solid, actually.

						BONUS START
						+1 Authority: Threw that shit away
						+1 Suggestion: Mentally healthy power-move
						-1 Inland Empire: Don't even care
						END ITEM
					</code></pre>
					<p class="text text-light text-center">Note: As said previously even if you don't place an Item or
						Thought description. END ITEM and END THOUGHT must still be appended at the end.</p>
				</div>
			</div>
			<div class="tab-pane fade flex-grow-1 w-100" id="custom-tab-pane" role="tabpanel"
				aria-labelledby="skills-tab-pane" tabindex="0">
				<div class="bg-dark-subtle h-100" data-bs-theme="dark">
					<div class="container">
						<div id="alertPlaceholder" class="alert alert-warning alert-dismissible visually-hidden fade"
							role="alert">
							<div>Custom formatting has been saved.</div>
							<button type="button" class="btn-close" id="closeAlert" aria-label="Close"></button>
						</div>
						<form id="customSkills">
							<h1 class="text-light text-center">Custom Skills</h1>
							<div id="atts"></div>
							<button type="submit" class="btn btn-success">Save</button>
							<button type="button" id="addAttribute" data-bs-toggle="modal" data-bs-target="#modalAdd" class="btn btn-primary">Add new Attribute</button>
							<button type="button" id="resetSkills" class="btn btn-secondary">Reset to default</button>
						</form>
						<div class="modal fade" id="modalAdd" data-bs-backdrop="static" data-bs-keyboard="false"
							tabindex="-1" aria-labelledby="title" aria-hidden="true">
							<form id="customAttribute" class="modal-dialog modal-lg modal-dialog-centered">
								<div class="modal-content">
									<div class="modal-header">
										<h1 id="title" class="modal-title fs-5">Add New Attribute</h1>
									</div>
									<div class="modal-body">
										<div class="mb-3 d-flex flex-column">
											<label for="att" class="form-label text-light">Attribute</label>
											<div class="d-flex">
												<input required name="color" type="color"
													class="form-control form-control-color" id="color">
												<input required placeholder="Enter name here..." name="att" type="text"
													class="form-control" id="att" aria-describedby="attHelp">
												<input required
													placeholder="Enter short name (ex. INT/PSY/FYS/MOT) here..."
													name="attShort" type="text" class="form-control" id="attShort"
													aria-describedby="attHelp">
											</div>
											<div id="attHelp" class="form-text">
												Place into the first box the name of your attribute (ex. INTELLECT) and
												in the second box enter the shortened name of the attribute (ex. INT).
												Both of these are mandatory and required.
											</div>
										</div>
									</div>
									<div class="modal-footer">
										<button type="submit" data-bs-dismiss="modal" class="btn btn-success">Save</button>
									</div>
								</div>
							</form>
						</div>
						<form id="customChecks">
							<h1 class="text-light text-center">Custom Checks</h1>
							<div class="mb-3 d-flex flex-column">
								<label for="check" class="form-label text-light">Check results</label>
								<div class="d-flex w-50">
									<input required name="check" type="text" class="form-control" id="check"
										aria-describedby="checkhelp">
									<input value="#e2e2e2" required name="textColour" type="color"
										class="form-control form-control-color" id="textColour">
									<input required name="bgColour" type="color" class="form-control form-control-color"
										id="bgColour">
								</div>
								<div id="checkhelp" class="form-text">
									Place into the text box the Keyword (ex. CHECK SUCCESS) you wish to associate with
									the check result. The first color is for text and the second color is for the
									background. To edit an already pre-existing Check Result simply enter the name of
									the Keyword and edit the color to your liking and it will update automatically.
									WARNING: Important Keywords such as BONUS START or END ITEM etc etc. that are
									already used
									cannot be used for Check Results. It simply will not work
								</div>
							</div>
							<button type="submit" class="btn btn-success">Save</button>
							<button type="button" id="resetChecks" class="btn btn-secondary">Reset to default</button>
						</form>
					</div>
				</div>
			</div>
			<div class="tab-pane fade flex-grow-1 w-100" id="bg-tab-pane" role="tabpanel" aria-labelledby="bg-tab-pane"
				tabindex="0">...
			</div>

		</div>
		<script src="https://cdn.jsdelivr.net/npm/marked/lib/marked.umd.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
			crossorigin="anonymous"></script>
		<script src="script.js"></script>
</body>

</html>